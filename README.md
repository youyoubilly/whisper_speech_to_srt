# Whisper Speech to SRT

Convert audio/video files to SRT subtitles using OpenAI's Whisper model.

## Installation

### Option 1: Install as CLI Command (Recommended)

Install the tool system-wide so you can run it from anywhere:

```bash
# Clone or navigate to the project directory
cd /path/to/whisper_speech_to_srt

# Install in editable mode
pip install -e .
```

After installation, you can use `whisper-srt` command from anywhere:

```bash
whisper-srt audio.mp3
whisper-srt ~/Music/podcast.mp4 --lang en -t -l
```

### Option 2: Run Directly as Python Script

If you prefer not to install it system-wide:

```bash
# Install dependencies
pip install -r requirements.txt

# Run the script directly
python whisper_speech_to_srt.py audio.mp3
```

## Usage

> **Note:** Examples below use `whisper-srt` command. If you didn't install it system-wide, replace `whisper-srt` with `python whisper_speech_to_srt.py`

### Basic Usage

```bash
# Process single audio file (generates SRT by default)
whisper-srt audio.mp3

# Generate only TXT file
whisper-srt -t audio.mp3

# Generate only LRC file
whisper-srt -l audio.mp3

# Generate multiple formats (SRT + TXT + LRC)
whisper-srt -s -t -l audio.mp3

# Process entire folder
whisper-srt /path/to/folder

# Process folder including subfolders
whisper-srt -r /path/to/folder
```

### Output Format Options

| Flag | Description |
|------|-------------|
| `-s, --srt` | Generate SRT subtitle file |
| `-t, --text` | Generate plain text file (without timestamps) |
| `-l, --lrc` | Generate LRC lyrics file |

**Note:** If no format flags are specified, SRT is generated by default. You can combine multiple flags to generate multiple formats at once.

### Other Options

| Flag | Description |
|------|-------------|
| `-o, --output` | Specify output directory (default: same as input) |
| `--large-v3` | Use large-v3 model instead of base model |
| `-r, --recursive` | Process subfolders (for directory input only) |
| `--lang` | Specify language code (e.g., en, zh, es, fr) |

### Advanced Examples

```bash
# Use large-v3 model for better accuracy
whisper-srt --large-v3 audio.mp3

# Generate all three formats (SRT + TXT + LRC)
whisper-srt -s -t -l audio.mp3

# Generate only TXT with Chinese language
whisper-srt -t --lang zh audio.mp3

# Generate SRT and LRC, save to specific directory
whisper-srt -s -l -o output_folder audio.mp3

# Process folder recursively with all formats
whisper-srt -s -t -l -r --large-v3 --lang en /path/to/folder

# Process video file, generate only text transcript
whisper-srt -t ~/Videos/lecture.mp4 -o transcripts --lang en
```

## Supported Formats

- Audio: `.wav`, `.m4a`, `.mp3`
- Video: `.mp4` (extracts audio automatically)

## Features

- **System-wide CLI**: Install once, use anywhere with `whisper-srt` command
- **Single file or batch processing**: Process one file or entire folders
- **Recursive scanning**: Include subfolders with `-r` flag
- **Language support**: Specify language for faster and more accurate transcription
- **Multiple output formats**: Generate SRT subtitles, plain text, and LRC lyrics files
- **Confirmation prompt**: Lists all files before processing folders
- **Progress tracking**: Shows current/total progress for batch operations
- **Error handling**: Continues processing remaining files if one fails
- **Multiple models**: Choose between base (fast) or large-v3 (accurate)

## Notes

- When processing folders, the script will list all found files and ask for confirmation
- By default, output files are saved in the same directory as input files
- Use `-o` flag to organize outputs in a separate directory
- The base model is faster but less accurate; large-v3 is slower but more accurate
- Specifying `--lang` can significantly improve accuracy and speed

## Uninstall

If you installed via `pip install -e .`:

```bash
pip uninstall whisper-speech-to-srt
```

